(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[188],{6973:function(e,t,r){Promise.resolve().then(r.bind(r,8761))},1933:function(e,t,r){"use strict";r.d(t,{x:function(){return c}});var a=r(2249),s=r(3464);class i{async searchProducts(e){try{return(await s.Z.post("".concat(this.baseURL,"/search/workflow"),e)).data}catch(e){throw console.error("Error searching products:",e),Error("Failed to search products")}}async hybridSearch(e){try{return(await s.Z.post("".concat(this.baseURL,"/search/workflow-multipart"),e,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(e){throw console.error("Error in hybrid search:",e),Error("Failed to perform hybrid search")}}async uploadAndSearch(e,t){try{let r=new FormData;return r.append("image",e),(null==t?void 0:t.top_k)&&r.append("top_k",t.top_k.toString()),(null==t?void 0:t.text)&&r.append("text",t.text),(null==t?void 0:t.text_weight)!==void 0&&r.append("text_weight",t.text_weight.toString()),(null==t?void 0:t.image_weight)!==void 0&&r.append("image_weight",t.image_weight.toString()),(null==t?void 0:t.fusion_method)&&r.append("fusion_method",t.fusion_method),(null==t?void 0:t.category_filter)&&r.append("category_filter",t.category_filter),(null==t?void 0:t.enable_reranking)!==void 0&&r.append("enable_reranking",t.enable_reranking.toString()),(await s.Z.post("".concat(this.baseURL,"/search/workflow-multipart"),r,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(e){throw console.error("Error uploading and searching:",e),Error("Failed to upload and search")}}async getProduct(e){try{let t=await s.Z.post("".concat(this.baseURL,"/search/workflow"),{text:e,top_k:1});if(t.data.results&&t.data.results.length>0)return t.data.results[0];return null}catch(e){return console.error("Error getting product:",e),null}}async getSimilarProducts(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;try{return(await s.Z.post("".concat(this.baseURL,"/search/workflow"),{text:e,top_k:t,enable_reranking:!0})).data.results||[]}catch(e){return console.error("Error getting similar products:",e),[]}}async getIndexStatus(){try{return(await s.Z.get("".concat(this.baseURL,"/index/status"))).data}catch(e){return console.error("Error getting index status:",e),{status:"error",total_products:0}}}async getEcommerceSources(){try{return(await s.Z.get("".concat(this.baseURL,"/ecommerce/sources"))).data.sources}catch(e){return console.error("Error fetching e-commerce sources:",e),[]}}async fetchEcommerceProducts(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20;try{let a=new URLSearchParams;return a.append("query",e),a.append("max_results_per_source",r.toString()),t&&t.length>0&&t.forEach(e=>a.append("sources",e)),(await s.Z.post("".concat(this.baseURL,"/ecommerce/fetch?").concat(a.toString()),{})).data}catch(e){throw console.error("Error fetching from e-commerce APIs:",e),Error("Failed to fetch products from e-commerce APIs")}}async searchAndEmbedProducts(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:15;try{let a=new URLSearchParams;return a.append("query",e),a.append("max_results",r.toString()),t&&t.length>0&&t.forEach(e=>a.append("sources",e)),(await s.Z.post("".concat(this.baseURL,"/ecommerce/search-and-embed?").concat(a.toString()),{})).data}catch(e){throw console.error("Error in search and embed:",e),Error("Failed to search and embed products")}}async getEcommerceStatus(){try{return(await s.Z.get("".concat(this.baseURL,"/ecommerce/status"))).data}catch(e){return console.error("Error getting e-commerce status:",e),{ecommerce_integration:"unknown"}}}constructor(e="http://localhost:8000/api/v1"){(0,a._)(this,"baseURL",void 0),this.baseURL=e}}let c=new i},8761:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return f}});var a=r(7437),s=r(2265),i=r(9763);let c=(0,i.Z)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),n=(0,i.Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),l=(0,i.Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);var o=r(2023),d=r(8997);let h=(0,i.Z)("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),m=(0,i.Z)("Truck",[["path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11",key:"hs4xqm"}],["path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2",key:"11fp61"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}]]);var g=r(8906);let x=(0,i.Z)("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);var u=r(1933),p=r(7648);function y(e){let{productId:t}=e,[r,i]=(0,s.useState)(0),[y,b]=(0,s.useState)([]),[f,j]=(0,s.useState)(!1),[w,v]=(0,s.useState)(null);(0,s.useEffect)(()=>{v({id:t||"dress_001",title:"Elegant Red Evening Dress",price:2999,originalPrice:4999,description:"Beautiful red evening dress perfect for special occasions. Made with premium fabric with elegant design and comfortable fit.",category:"Women's Clothing",images:["/dress1.jpg","/dress2.jpg","/dress3.jpg"],tags:["Evening Wear","Party Dress","Red","Elegant","Premium"],rating:4.5,reviews:128})},[t]);let N=async()=>{if(w){j(!0);try{let e=await u.x.getSimilarProducts(w.title,8);b(e)}catch(e){console.error("Error finding similar products:",e),alert("Failed to find similar products. Make sure the backend is running.")}finally{j(!1)}}};return w?(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[(0,a.jsx)("header",{className:"bg-white dark:bg-gray-800 border-b sticky top-0 z-50",children:(0,a.jsx)("div",{className:"container mx-auto px-4 py-4",children:(0,a.jsxs)(p.default,{href:"/search",className:"flex items-center gap-2 text-gray-600 hover:text-indigo-600 transition",children:[(0,a.jsx)(c,{className:"w-5 h-5"}),"Back to Search"]})})}),(0,a.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-8 mb-12",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl overflow-hidden mb-4",children:(0,a.jsxs)("div",{className:"aspect-square bg-gray-100 dark:bg-gray-700 relative",children:[(0,a.jsx)("img",{src:w.images[r]||"/placeholder.png",alt:w.title,className:"w-full h-full object-cover"}),(0,a.jsx)("button",{className:"absolute left-4 top-1/2 -translate-y-1/2 bg-white/80 p-2 rounded-full hover:bg-white transition",children:(0,a.jsx)(c,{className:"w-6 h-6"})}),(0,a.jsx)("button",{className:"absolute right-4 top-1/2 -translate-y-1/2 bg-white/80 p-2 rounded-full hover:bg-white transition",children:(0,a.jsx)(n,{className:"w-6 h-6"})})]})}),(0,a.jsx)("div",{className:"grid grid-cols-4 gap-2",children:w.images.map((e,t)=>(0,a.jsx)("button",{onClick:()=>i(t),className:"aspect-square rounded-lg overflow-hidden border-2 ".concat(r===t?"border-indigo-600":"border-transparent"),children:(0,a.jsx)("img",{src:e||"/placeholder.png",alt:"",className:"w-full h-full object-cover"})},t))})]}),(0,a.jsx)("div",{children:(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-lg",children:[(0,a.jsx)("span",{className:"text-sm text-indigo-600 font-semibold",children:w.category}),(0,a.jsx)("h1",{className:"text-3xl font-bold mt-2 mb-4",children:w.title}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,a.jsx)("div",{className:"flex items-center",children:[void 0,void 0,void 0,void 0,void 0].map((e,t)=>(0,a.jsx)(l,{className:"w-5 h-5 ".concat(t<Math.floor(w.rating)?"fill-yellow-400 text-yellow-400":"text-gray-300")},t))}),(0,a.jsxs)("span",{className:"text-sm text-gray-600",children:[w.rating," (",w.reviews," reviews)"]})]}),(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsxs)("div",{className:"flex items-baseline gap-3",children:[(0,a.jsxs)("span",{className:"text-4xl font-bold text-indigo-600",children:["₹",w.price]}),w.originalPrice&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("span",{className:"text-xl text-gray-400 line-through",children:["₹",w.originalPrice]}),(0,a.jsxs)("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-sm font-semibold",children:[Math.round((1-w.price/w.originalPrice)*100),"% OFF"]})]})]})}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:w.description}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(o.Z,{className:"w-4 h-4 text-indigo-600"}),(0,a.jsx)("span",{className:"text-sm font-semibold",children:"AI-Extracted Tags"})]}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:w.tags.map((e,t)=>(0,a.jsx)("span",{className:"px-3 py-1 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-700 dark:text-indigo-300 rounded-full text-sm",children:e},t))})]}),(0,a.jsxs)("div",{className:"flex gap-3 mb-6",children:[(0,a.jsx)("button",{className:"flex-1 px-6 py-4 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-xl hover:shadow-lg transition text-lg font-semibold",children:"Add to Cart"}),(0,a.jsx)("button",{className:"px-4 py-4 border-2 border-gray-300 rounded-xl hover:bg-gray-50 transition",children:(0,a.jsx)(d.Z,{className:"w-6 h-6"})}),(0,a.jsx)("button",{className:"px-4 py-4 border-2 border-gray-300 rounded-xl hover:bg-gray-50 transition",children:(0,a.jsx)(h,{className:"w-6 h-6"})})]}),(0,a.jsx)("button",{onClick:N,disabled:f,className:"w-full px-6 py-3 bg-purple-100 dark:bg-purple-900/20 text-purple-700 dark:text-purple-300 rounded-xl hover:bg-purple-200 transition flex items-center justify-center gap-2 font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:f?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-purple-700"}),(0,a.jsx)("span",{children:"Finding Similar Items..."})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.Z,{className:"w-5 h-5"}),(0,a.jsx)("span",{children:"Find Similar Items (CLIP-Based)"})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4 mt-6 pt-6 border-t",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(m,{className:"w-8 h-8 text-indigo-600 mx-auto mb-2"}),(0,a.jsx)("p",{className:"text-xs text-gray-600",children:"Free Shipping"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(g.Z,{className:"w-8 h-8 text-indigo-600 mx-auto mb-2"}),(0,a.jsx)("p",{className:"text-xs text-gray-600",children:"Secure Payment"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(x,{className:"w-8 h-8 text-indigo-600 mx-auto mb-2"}),(0,a.jsx)("p",{className:"text-xs text-gray-600",children:"Easy Returns"})]})]})]})})]}),(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-lg",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold",children:"Similar Products (Cross-Modal Results)"}),(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Ranked by CLIP similarity"})]}),y.length>0?(0,a.jsx)("div",{className:"grid sm:grid-cols-2 md:grid-cols-4 gap-6",children:y.map(e=>(0,a.jsxs)(p.default,{href:"/product/".concat(e.product_id),className:"group cursor-pointer",children:[(0,a.jsx)("div",{className:"aspect-square bg-gray-100 rounded-xl overflow-hidden mb-3",children:(0,a.jsx)("img",{src:e.image_url||"/placeholder.png",alt:e.title,className:"w-full h-full object-cover group-hover:scale-110 transition"})}),(0,a.jsx)("h3",{className:"font-semibold text-sm line-clamp-2 mb-1",children:e.title}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("span",{className:"text-indigo-600 font-bold",children:["₹",e.price]}),(0,a.jsxs)("span",{className:"text-xs text-gray-500",children:[(100*e.similarity_score).toFixed(0),"% match"]})]}),e.category&&(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:e.category})]},e.product_id))}):(0,a.jsxs)("div",{className:"text-center py-12 text-gray-400",children:[(0,a.jsx)(o.Z,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),(0,a.jsx)("p",{children:'Click "Find Similar Items" to see CLIP-based recommendations'})]})]})]})]}):(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:"Loading..."})}var b=r(5475);function f(){let e=(0,b.useParams)().id;return(0,a.jsx)(y,{productId:e})}},8997:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9763).Z)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},8906:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9763).Z)("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]])}},function(e){e.O(0,[941,44,971,117,744],function(){return e(e.s=6973)}),_N_E=e.O()}]);