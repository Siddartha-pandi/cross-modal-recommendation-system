(()=>{var e={};e.id=188,e.ids=[188],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7790:e=>{"use strict";e.exports=require("assert")},4770:e=>{"use strict";e.exports=require("crypto")},7702:e=>{"use strict";e.exports=require("events")},2048:e=>{"use strict";e.exports=require("fs")},2615:e=>{"use strict";e.exports=require("http")},2694:e=>{"use strict";e.exports=require("http2")},8791:e=>{"use strict";e.exports=require("https")},9801:e=>{"use strict";e.exports=require("os")},5315:e=>{"use strict";e.exports=require("path")},6162:e=>{"use strict";e.exports=require("stream")},4175:e=>{"use strict";e.exports=require("tty")},7360:e=>{"use strict";e.exports=require("url")},1764:e=>{"use strict";e.exports=require("util")},1568:e=>{"use strict";e.exports=require("zlib")},3306:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>n.a,__next_app__:()=>h,originalPathname:()=>m,pages:()=>d,routeModule:()=>p,tree:()=>l}),t(4144),t(1506),t(5866);var s=t(3191),a=t(8716),i=t(7922),n=t.n(i),o=t(5231),c={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>o[e]);t.d(r,c);let l=["",{children:["product",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,4144)),"S:\\Siddu\\Final Year\\cross-modal-recommendation-system\\frontend\\app\\product\\[id]\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,1506)),"S:\\Siddu\\Final Year\\cross-modal-recommendation-system\\frontend\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"]}],d=["S:\\Siddu\\Final Year\\cross-modal-recommendation-system\\frontend\\app\\product\\[id]\\page.tsx"],m="/product/[id]/page",h={require:t,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/product/[id]/page",pathname:"/product/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},4363:(e,r,t)=>{Promise.resolve().then(t.bind(t,7880))},3585:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,2994,23)),Promise.resolve().then(t.t.bind(t,6114,23)),Promise.resolve().then(t.t.bind(t,9727,23)),Promise.resolve().then(t.t.bind(t,9671,23)),Promise.resolve().then(t.t.bind(t,1868,23)),Promise.resolve().then(t.t.bind(t,4759,23))},8178:()=>{},1536:(e,r,t)=>{"use strict";t.d(r,{x:()=>i});var s=t(4464);class a{baseURL;constructor(e="http://localhost:8000/api/v1"){this.baseURL=e}async searchProducts(e){try{return(await s.Z.post(`${this.baseURL}/search/workflow`,e)).data}catch(e){throw console.error("Error searching products:",e),Error("Failed to search products")}}async hybridSearch(e){try{return(await s.Z.post(`${this.baseURL}/search/workflow-multipart`,e,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(e){throw console.error("Error in hybrid search:",e),Error("Failed to perform hybrid search")}}async uploadAndSearch(e,r){try{let t=new FormData;return t.append("image",e),r?.top_k&&t.append("top_k",r.top_k.toString()),r?.text&&t.append("text",r.text),r?.text_weight!==void 0&&t.append("text_weight",r.text_weight.toString()),r?.image_weight!==void 0&&t.append("image_weight",r.image_weight.toString()),r?.fusion_method&&t.append("fusion_method",r.fusion_method),r?.category_filter&&t.append("category_filter",r.category_filter),r?.enable_reranking!==void 0&&t.append("enable_reranking",r.enable_reranking.toString()),(await s.Z.post(`${this.baseURL}/search/workflow-multipart`,t,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(e){throw console.error("Error uploading and searching:",e),Error("Failed to upload and search")}}async getProduct(e){try{let r=await s.Z.post(`${this.baseURL}/search/workflow`,{text:e,top_k:1});if(r.data.results&&r.data.results.length>0)return r.data.results[0];return null}catch(e){return console.error("Error getting product:",e),null}}async getSimilarProducts(e,r=10){try{return(await s.Z.post(`${this.baseURL}/search/workflow`,{text:e,top_k:r,enable_reranking:!0})).data.results||[]}catch(e){return console.error("Error getting similar products:",e),[]}}async getIndexStatus(){try{return(await s.Z.get(`${this.baseURL}/index/status`)).data}catch(e){return console.error("Error getting index status:",e),{status:"error",total_products:0}}}async getEcommerceSources(){try{return(await s.Z.get(`${this.baseURL}/ecommerce/sources`)).data.sources}catch(e){return console.error("Error fetching e-commerce sources:",e),[]}}async fetchEcommerceProducts(e,r,t=20){try{let a=new URLSearchParams;return a.append("query",e),a.append("max_results_per_source",t.toString()),r&&r.length>0&&r.forEach(e=>a.append("sources",e)),(await s.Z.post(`${this.baseURL}/ecommerce/fetch?${a.toString()}`,{})).data}catch(e){throw console.error("Error fetching from e-commerce APIs:",e),Error("Failed to fetch products from e-commerce APIs")}}async searchAndEmbedProducts(e,r,t=15){try{let a=new URLSearchParams;return a.append("query",e),a.append("max_results",t.toString()),r&&r.length>0&&r.forEach(e=>a.append("sources",e)),(await s.Z.post(`${this.baseURL}/ecommerce/search-and-embed?${a.toString()}`,{})).data}catch(e){throw console.error("Error in search and embed:",e),Error("Failed to search and embed products")}}async getEcommerceStatus(){try{return(await s.Z.get(`${this.baseURL}/ecommerce/status`)).data}catch(e){return console.error("Error getting e-commerce status:",e),{ecommerce_integration:"unknown"}}}}let i=new a},7880:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>f});var s=t(326),a=t(7577),i=t(6557);let n=(0,i.Z)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),o=(0,i.Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),c=(0,i.Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);var l=t(1572),d=t(7427);let m=(0,i.Z)("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),h=(0,i.Z)("Truck",[["path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11",key:"hs4xqm"}],["path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2",key:"11fp61"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}]]);var p=t(165);let x=(0,i.Z)("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);var u=t(1536),g=t(434);function y({productId:e}){let[r,t]=(0,a.useState)(0),[i,y]=(0,a.useState)([]),[b,f]=(0,a.useState)(!1),[j,w]=(0,a.useState)(null),v=async()=>{if(j){f(!0);try{let e=await u.x.getSimilarProducts(j.title,8);y(e)}catch(e){console.error("Error finding similar products:",e),alert("Failed to find similar products. Make sure the backend is running.")}finally{f(!1)}}};return j?(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[s.jsx("header",{className:"bg-white dark:bg-gray-800 border-b sticky top-0 z-50",children:s.jsx("div",{className:"container mx-auto px-4 py-4",children:(0,s.jsxs)(g.default,{href:"/search",className:"flex items-center gap-2 text-gray-600 hover:text-indigo-600 transition",children:[s.jsx(n,{className:"w-5 h-5"}),"Back to Search"]})})}),(0,s.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-8 mb-12",children:[(0,s.jsxs)("div",{children:[s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl overflow-hidden mb-4",children:(0,s.jsxs)("div",{className:"aspect-square bg-gray-100 dark:bg-gray-700 relative",children:[s.jsx("img",{src:j.images[r]||"/placeholder.png",alt:j.title,className:"w-full h-full object-cover"}),s.jsx("button",{className:"absolute left-4 top-1/2 -translate-y-1/2 bg-white/80 p-2 rounded-full hover:bg-white transition",children:s.jsx(n,{className:"w-6 h-6"})}),s.jsx("button",{className:"absolute right-4 top-1/2 -translate-y-1/2 bg-white/80 p-2 rounded-full hover:bg-white transition",children:s.jsx(o,{className:"w-6 h-6"})})]})}),s.jsx("div",{className:"grid grid-cols-4 gap-2",children:j.images.map((e,a)=>s.jsx("button",{onClick:()=>t(a),className:`aspect-square rounded-lg overflow-hidden border-2 ${r===a?"border-indigo-600":"border-transparent"}`,children:s.jsx("img",{src:e||"/placeholder.png",alt:"",className:"w-full h-full object-cover"})},a))})]}),s.jsx("div",{children:(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-lg",children:[s.jsx("span",{className:"text-sm text-indigo-600 font-semibold",children:j.category}),s.jsx("h1",{className:"text-3xl font-bold mt-2 mb-4",children:j.title}),(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx("div",{className:"flex items-center",children:[void 0,void 0,void 0,void 0,void 0].map((e,r)=>s.jsx(c,{className:`w-5 h-5 ${r<Math.floor(j.rating)?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},r))}),(0,s.jsxs)("span",{className:"text-sm text-gray-600",children:[j.rating," (",j.reviews," reviews)"]})]}),s.jsx("div",{className:"mb-6",children:(0,s.jsxs)("div",{className:"flex items-baseline gap-3",children:[(0,s.jsxs)("span",{className:"text-4xl font-bold text-indigo-600",children:["₹",j.price]}),j.originalPrice&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("span",{className:"text-xl text-gray-400 line-through",children:["₹",j.originalPrice]}),(0,s.jsxs)("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-sm font-semibold",children:[Math.round((1-j.price/j.originalPrice)*100),"% OFF"]})]})]})}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:j.description}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(l.Z,{className:"w-4 h-4 text-indigo-600"}),s.jsx("span",{className:"text-sm font-semibold",children:"AI-Extracted Tags"})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:j.tags.map((e,r)=>s.jsx("span",{className:"px-3 py-1 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-700 dark:text-indigo-300 rounded-full text-sm",children:e},r))})]}),(0,s.jsxs)("div",{className:"flex gap-3 mb-6",children:[s.jsx("button",{className:"flex-1 px-6 py-4 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-xl hover:shadow-lg transition text-lg font-semibold",children:"Add to Cart"}),s.jsx("button",{className:"px-4 py-4 border-2 border-gray-300 rounded-xl hover:bg-gray-50 transition",children:s.jsx(d.Z,{className:"w-6 h-6"})}),s.jsx("button",{className:"px-4 py-4 border-2 border-gray-300 rounded-xl hover:bg-gray-50 transition",children:s.jsx(m,{className:"w-6 h-6"})})]}),s.jsx("button",{onClick:v,disabled:b,className:"w-full px-6 py-3 bg-purple-100 dark:bg-purple-900/20 text-purple-700 dark:text-purple-300 rounded-xl hover:bg-purple-200 transition flex items-center justify-center gap-2 font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:b?(0,s.jsxs)(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-purple-700"}),s.jsx("span",{children:"Finding Similar Items..."})]}):(0,s.jsxs)(s.Fragment,{children:[s.jsx(l.Z,{className:"w-5 h-5"}),s.jsx("span",{children:"Find Similar Items (CLIP-Based)"})]})}),(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-4 mt-6 pt-6 border-t",children:[(0,s.jsxs)("div",{className:"text-center",children:[s.jsx(h,{className:"w-8 h-8 text-indigo-600 mx-auto mb-2"}),s.jsx("p",{className:"text-xs text-gray-600",children:"Free Shipping"})]}),(0,s.jsxs)("div",{className:"text-center",children:[s.jsx(p.Z,{className:"w-8 h-8 text-indigo-600 mx-auto mb-2"}),s.jsx("p",{className:"text-xs text-gray-600",children:"Secure Payment"})]}),(0,s.jsxs)("div",{className:"text-center",children:[s.jsx(x,{className:"w-8 h-8 text-indigo-600 mx-auto mb-2"}),s.jsx("p",{className:"text-xs text-gray-600",children:"Easy Returns"})]})]})]})})]}),(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-lg",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Similar Products (Cross-Modal Results)"}),s.jsx("span",{className:"text-sm text-gray-600",children:"Ranked by CLIP similarity"})]}),i.length>0?s.jsx("div",{className:"grid sm:grid-cols-2 md:grid-cols-4 gap-6",children:i.map(e=>(0,s.jsxs)(g.default,{href:`/product/${e.product_id}`,className:"group cursor-pointer",children:[s.jsx("div",{className:"aspect-square bg-gray-100 rounded-xl overflow-hidden mb-3",children:s.jsx("img",{src:e.image_url||"/placeholder.png",alt:e.title,className:"w-full h-full object-cover group-hover:scale-110 transition"})}),s.jsx("h3",{className:"font-semibold text-sm line-clamp-2 mb-1",children:e.title}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("span",{className:"text-indigo-600 font-bold",children:["₹",e.price]}),(0,s.jsxs)("span",{className:"text-xs text-gray-500",children:[(100*e.similarity_score).toFixed(0),"% match"]})]}),e.category&&s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:e.category})]},e.product_id))}):(0,s.jsxs)("div",{className:"text-center py-12 text-gray-400",children:[s.jsx(l.Z,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),s.jsx("p",{children:'Click "Find Similar Items" to see CLIP-based recommendations'})]})]})]})]}):s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Loading..."})}var b=t(7389);function f(){let e=(0,b.useParams)().id;return s.jsx(y,{productId:e})}},7427:(e,r,t)=>{"use strict";t.d(r,{Z:()=>s});let s=(0,t(6557).Z)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},165:(e,r,t)=>{"use strict";t.d(r,{Z:()=>s});let s=(0,t(6557).Z)("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]])},1506:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>o,metadata:()=>n});var s=t(9510),a=t(7366),i=t.n(a);t(7272);let n={title:"Cross-Modal Fashion Recommendation System",description:"Hybrid AI-powered fashion search using CLIP for text and image fusion with FAISS similarity matching"};function o({children:e}){return s.jsx("html",{lang:"en",children:s.jsx("body",{className:i().className,children:e})})}},4144:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});let s=(0,t(8570).createProxy)(String.raw`S:\Siddu\Final Year\cross-modal-recommendation-system\frontend\app\product\[id]\page.tsx#default`)},7272:()=>{}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[480,859,464],()=>t(3306));module.exports=s})();